import{b as P,d as se,a as Y,t as Q}from"../chunks/DxE7Uhba.js";import{k as V,l as B,m as W,e as D,n as Z,t as y,F as H,d as T,a4 as fe,a5 as F,D as O,C as N,u as w,G as ie,a6 as b,a7 as $,p as q,a8 as oe,L as j,a9 as ue,aa as ve,K as _e,ab as ce,r as ee,ac as de,ad as he,s as G,ae as me,i as ge,af as pe,ag as ye,A as ae,I as Ee,B as ke,z as Ae,ah as Te,ai as we,aj as Ie,R as be,ak as Re,v as Ce,w as Le,x as Ne,c as K,al as Se,a1 as Me,$ as De,a0 as He,Y as Oe}from"../chunks/DVHzuQX-.js";import{d as qe}from"../chunks/C396GFe7.js";import{p as xe}from"../chunks/0-VdqPqZ.js";import{o as Pe}from"../chunks/DogSxgQw.js";import{g as Ye}from"../chunks/CLi-E7oq.js";import{p as z}from"../chunks/DAb04BkW.js";let U=!1;function re(){U||(U=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const r of e.target.elements)(a=r.__on_r)==null||a.call(r)})},{capture:!0}))}function Ve(e){var a=W,r=D;V(null),B(null);try{return e()}finally{V(a),B(r)}}function Be(e,a,r,i=r){e.addEventListener(a,()=>Ve(r));const l=e.__on_r;l?e.__on_r=()=>{l(),i(!0)}:e.__on_r=()=>i(!0),re()}function Fe(e,a){return a}function Ge(e,a,r,i){for(var l=[],f=a.length,s=0;s<f;s++)ve(a[s].e,l,!0);var c=f>0&&l.length===0&&r!==null;if(c){var o=r.parentNode;_e(o),o.append(r),i.clear(),A(e,a[0].prev,a[f-1].next)}ce(l,()=>{for(var d=0;d<f;d++){var h=a[d];c||(i.delete(h.k),A(e,h.prev,h.next)),ee(h.e,!c)}})}function Ke(e,a,r,i,l,f=null){var s=e,c={flags:a,items:new Map,first:null};y&&H();var o=null,d=!1,h=de(()=>{var n=r();return ge(n)?n:n==null?[]:j(n)});Z(()=>{var n=T(h),v=n.length;if(d&&v===0)return;d=v===0;let t=!1;if(y){var u=s.data===fe;u!==(v===0)&&(s=F(),O(s),N(!1),t=!0)}if(y){for(var m=null,E,g=0;g<v;g++){if(w.nodeType===8&&w.data===ie){s=w,t=!0,N(!1);break}var _=n[g],p=i(_,g);E=ne(w,c,m,null,_,p,g,l,a),c.items.set(p,E),m=E}v>0&&O(F())}if(!y){var R=W;ze(n,c,s,l,a,(R.f&b)!==0,i)}f!==null&&(v===0?o?$(o):o=q(()=>f(s)):o!==null&&oe(o,()=>{o=null})),t&&N(!0),T(h)}),y&&(s=w)}function ze(e,a,r,i,l,f,s,c){var o=e.length,d=a.items,h=a.first,n=h,v,t=null,u=[],m=[],E,g,_,p;for(p=0;p<o;p+=1){if(E=e[p],g=s(E,p),_=d.get(g),_===void 0){var R=n?n.e.nodes_start:r;t=ne(R,a,t,t===null?a.first:t.next,E,g,p,i,l),d.set(g,t),u=[],m=[],n=t.next;continue}if(Ue(_,E,p),_.e.f&b&&$(_.e),_!==n){if(v!==void 0&&v.has(_)){if(u.length<m.length){var I=m[0],k;t=I.prev;var x=u[0],C=u[u.length-1];for(k=0;k<u.length;k+=1)X(u[k],I,r);for(k=0;k<m.length;k+=1)v.delete(m[k]);A(a,x.prev,C.next),A(a,t,x),A(a,C,I),n=I,t=C,p-=1,u=[],m=[]}else v.delete(_),X(_,n,r),A(a,_.prev,_.next),A(a,_,t===null?a.first:t.next),A(a,t,_),t=_;continue}for(u=[],m=[];n!==null&&n.k!==g;)(f||!(n.e.f&b))&&(v??(v=new Set)).add(n),m.push(n),n=n.next;if(n===null)continue;_=n}u.push(_),t=_,n=_.next}if(n!==null||v!==void 0){for(var L=v===void 0?[]:j(v);n!==null;)(f||!(n.e.f&b))&&L.push(n),n=n.next;var te=L.length;if(te>0){var le=null;Ge(a,L,le,d)}}D.first=a.first&&a.first.e,D.last=t&&t.e}function Ue(e,a,r,i){ue(e.v,a),e.i=r}function ne(e,a,r,i,l,f,s,c,o,d){var h=(o&pe)!==0,n=(o&ye)===0,v=h?n?he(l):G(l):l,t=o&me?G(s):s,u={i:t,v,k:f,a:null,e:null,prev:r,next:i};try{return u.e=q(()=>c(e,v,t),y),u.e.prev=r&&r.e,u.e.next=i&&i.e,r===null?a.first=u:(r.next=u,r.e.next=u.e),i!==null&&(i.prev=u,i.e.prev=u.e),u}finally{}}function X(e,a,r){for(var i=e.next?e.next.e.nodes_start:r,l=a?a.e.nodes_start:r,f=e.e.nodes_start;f!==i;){var s=ae(f);l.before(f),f=s}}function A(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function Xe(e,a,r,i,l){var f=e,s="",c;Z(()=>{if(s===(s=a()??"")){y&&H();return}c!==void 0&&(ee(c),c=void 0),s!==""&&(c=q(()=>{if(y){w.data;for(var o=H(),d=o;o!==null&&(o.nodeType!==8||o.data!=="");)d=o,o=ae(o);if(o===null)throw Ee(),ke;P(w,d),f=O(o);return}var h=s+"",n=se(h);P(Ae(n),n.lastChild),f.before(n)}))})}function Je(e){if(y){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var i=e.value;J(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var l=e.checked;J(e,"checked",null),e.checked=l}}};e.__on_r=r,Te(r),re()}}function J(e,a,r,i){var l=e.__attributes??(e.__attributes={});y&&(l[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||l[a]!==(l[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[we]=r),e.removeAttribute(a))}function Qe(e,a,r=a){var i=Ie();Be(e,"input",l=>{var f=l?e.defaultValue:e.value;if(f=S(e)?M(f):f,r(f),i&&f!==(f=a())){var s=e.selectionStart,c=e.selectionEnd;e.value=f??"",c!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(c,e.value.length))}}),(y&&e.defaultValue!==e.value||be(a)==null&&e.value)&&r(S(e)?M(e.value):e.value),Re(()=>{var l=a();S(e)&&l===M(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function S(e){var a=e.type;return a==="number"||a==="range"}function M(e){return e===""?null:+e}var We=Q("<p><!></p>"),Ze=Q('<input type="text" placeholder="Search"> <!>',1);function la(e,a){Ce(a,!0);const{posts:r}=a.data;function i(n,v){let t;return function(...u){clearTimeout(t),t=setTimeout(()=>{n.apply(this,u)},v)}}const l=i(f,400);function f(n){const v=n.target,t=z.url.searchParams;v.value!=""?t.set("q",v.value):t.delete("q"),Ye(`?${t}`,{keepFocus:!0})}let s=Se("");Pe(()=>{K(s,xe(z.url.searchParams.get("q")||""))});let c=Oe(()=>T(s)?r.filter(n=>n.title.rendered.toLowerCase().includes(T(s).toLowerCase())):r);var o=Ze(),d=Le(o);Je(d),d.__keyup=l;var h=Me(d,2);Ke(h,17,()=>T(c),Fe,(n,v)=>{var t=We(),u=De(t);Xe(u,()=>T(v).title.rendered),He(t),Y(n,t)}),Qe(d,()=>T(s),n=>K(s,n)),Y(e,o),Ne()}qe(["keyup"]);export{la as component};
